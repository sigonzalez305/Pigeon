<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pigeon MSG</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app-shell">
    <header class="app-header">
      <div class="logo-block">
        <div class="pigeon-icon" aria-hidden="true">üïäÔ∏è</div>
        <div>
          <p class="eyebrow">PIGEON MSG</p>
          <h1 class="headline">Cozy pigeon care, Tamagotchi style.</h1>
          <p class="subhead">Start in the coop, style your bird, then hop into the chatty message flow.</p>
        </div>
      </div>
      <div class="level-card">
        <p class="label">Pigeon Level</p>
        <p id="pigeonLevel" class="metric">1</p>
        <p class="label">XP</p>
        <div class="meter" aria-label="Experience">
          <div id="xpBar" class="meter-fill" style="width: 5%"></div>
        </div>
        <p id="xpText" class="tiny">0 / 20 XP</p>
      </div>
    </header>

    <nav class="tab-nav" aria-label="Primary">
      <button class="tab-button is-active" data-screen-button="coop">Pigeon Coop</button>
      <button class="tab-button" data-screen-button="message">Message</button>
      <button class="tab-button" data-screen-button="history">History</button>
    </nav>

    <section class="coop" aria-labelledby="coop-title" data-screen="coop">
      <div>
        <p id="coopTitle" class="section-title">Pigeon Coop</p>
        <p class="section-copy">Name your pigeon, pick its vibe, and preview its current gear.</p>
        <div class="coop-controls">
          <label class="input-block">Pigeon Name
            <input id="pigeonName" type="text" maxlength="20" placeholder="Sky Courier" />
          </label>
          <label class="input-block">Signature Color
            <select id="pigeonColor">
              <option value="silver">Silver</option>
              <option value="gold">Gold</option>
              <option value="indigo">Indigo</option>
              <option value="rose">Rose</option>
            </select>
          </label>
        </div>
        <button class="button coop-cta" type="button" data-screen-button="message">Go to Messaging</button>
      </div>
      <div class="pigeon-preview" aria-label="Current pigeon preview">
        <div class="pigeon-body" id="pigeonBody">
          <div class="pigeon-wing"></div>
          <div class="pigeon-eye"></div>
          <div class="pigeon-pack" id="pigeonPack">üéí</div>
          <div class="pigeon-accessory" id="pigeonAccessory">üé©</div>
        </div>
        <p class="badge-tag" id="pigeonAccessoryLabel">Starter Satchel</p>
      </div>
    </section>

    <section class="panel message-panel" aria-labelledby="message-title" data-screen="message" hidden>
      <div class="panel-header">
        <p id="message-title" class="section-title">Message of the Day</p>
        <p class="section-copy">A WhatsApp-style chat view to share one thoughtful note. Check the skies, then launch.</p>
      </div>
      <div class="message-layout">
        <div class="chat-window" id="chatWindow" aria-live="polite"></div>
        <form id="messageForm" class="form-grid chat-composer">
          <div class="dual-input">
            <label class="input-block">From Area Code
              <select id="fromAreaCode"></select>
            </label>
            <label class="input-block">From Number
              <input id="fromNumber" type="tel" inputmode="tel" maxlength="12" placeholder="555-1234" />
            </label>
          </div>
          <div class="dual-input">
            <label class="input-block">To Area Code
              <select id="toAreaCode"></select>
            </label>
            <label class="input-block">To Number
              <input id="toNumber" type="tel" inputmode="tel" maxlength="12" placeholder="555-6789" />
            </label>
          </div>
          <label class="input-block">Purpose
            <select id="purpose">
              <option value="Encouragement">Encouragement</option>
              <option value="Love">Love</option>
              <option value="Update">Update</option>
              <option value="Thank You">Thank You</option>
            </select>
          </label>
          <label class="input-block full">Message
            <textarea id="message" rows="4" maxlength="220" required placeholder="Share one thoughtful note for today."></textarea>
          </label>
          <div class="weather-inline full">
            <div>
              <p class="label">Weather</p>
              <p id="weatherSummary" class="metric">Waiting for forecast‚Ä¶</p>
              <p id="weatherImpact" class="tiny">Check both area codes to see the impact.</p>
            </div>
            <button id="checkWeather" class="button button-secondary hidden" type="button">Check Weather</button>
          </div>
          <div class="eta-row full">
            <p id="etaText" class="tiny">ETA will appear after weather check (1‚Äì5 minutes).</p>
            <p id="dailyStatus" class="tiny">Ready to fly.</p>
          </div>
          <div class="form-actions full">
            <button type="submit" class="button">Launch Pigeon</button>
          </div>
        </form>
      </div>
    </section>

    <section class="panel journey-panel" aria-labelledby="journey-title">
      <div class="panel-header">
        <p id="journey-title" class="section-title">Flight Map & Journey</p>
        <p class="section-copy">An 8-bit map animates your pigeon‚Äôs path after each launch.</p>
      </div>
      <div class="map-wrapper">
        <div class="pixel-map">
          <div id="flightIcon" class="flight-icon" aria-hidden="true">üïäÔ∏è</div>
        </div>
        <div class="journey-stats">
          <div class="stat-card">
            <p class="label">Miles Flown</p>
            <p id="milesFlown" class="metric">0</p>
            <p class="tiny">Longer trips unlock badges.</p>
          </div>
          <div class="stat-card">
            <p class="label">Badges</p>
            <div id="badgeList" class="badge-row" aria-live="polite"></div>
          </div>
          <div class="stat-card">
            <p class="label">Flight Status</p>
            <div id="flightTimeline" class="timeline" aria-live="polite"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="panel" aria-labelledby="history-title" data-screen="history" hidden>
      <div class="panel-header">
        <p id="history-title" class="section-title">Message History</p>
        <p class="section-copy">Local log of every message you‚Äôve launched, saved in your browser.</p>
      </div>
      <div id="historyList" class="history-list" aria-live="polite"></div>
    </section>
  </main>

  <footer class="footer">
    <p>Built for cozy daily check-ins. Pixel art, weather-aware routes, and a lot of heart.</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
